% Wave Simulator
dt = 0.001
dx = 0.001
c = 1 	% wave speed
r = c * dt/dx;
x = 0:dx:1;
k = 2;
y1(1:667) = 0.3333 * (x(1:667));
y1(668:1001) = -0.6666 * (x(668:1001)) + 0.6666;
y2(1:667) = 0.3333 * (x(1:667));
y2(668:1001) = -0.6666 * (x(668:1001)) + 0.6666;
j=0;
plot(y1)
for n =1:5000
	t = (n-1)*dt;
	y3(2:1000) = 2*(1-r^2) *y2(2:1000) - y1(2:1000) + (r^2) * (y2(3:1001) + y2(1:999));
	y3(1001)  = 0;
	if(mod(n,4) == 0)
		j = j + 1
		plot(y3)
		%axis((1 1000 -0.5 0.5))
		M(j) = getframe;
	end
	y1 = y2;
	y2 = y3;
end